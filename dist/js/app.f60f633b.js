(function(){"use strict";var e={1484:function(e,t,a){var o=a(3396),s=a(9242);function r(e,t,a,r,n,i){const l=(0,o.up)("the-header"),c=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),(0,o.Wm)(c,null,{default:(0,o.w5)((e=>[(0,o.Wm)(s.uT,{name:"route",mode:"out-in"},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.Component)))])),_:2},1024)])),_:1})],64)}const n=(0,o.Uk)("Find a Coach"),i=(0,o.Uk)("All Coaches"),l={key:0},c=(0,o.Uk)("Requests"),d={key:1},u=(0,o.Uk)("Login"),h=(0,o.Uk)("Logout");function m(e,t,a,s,r,m){const p=(0,o.up)("router-link"),f=(0,o.up)("base-button");return(0,o.wg)(),(0,o.iD)("header",null,[(0,o._)("nav",null,[(0,o._)("h1",null,[(0,o.Wm)(p,{to:"/"},{default:(0,o.w5)((()=>[n])),_:1})]),(0,o._)("ul",null,[(0,o._)("li",null,[(0,o.Wm)(p,{to:"/coaches"},{default:(0,o.w5)((()=>[i])),_:1})]),m.isLoggedIn?((0,o.wg)(),(0,o.iD)("li",l,[(0,o.Wm)(p,{to:"/requests"},{default:(0,o.w5)((()=>[c])),_:1})])):((0,o.wg)(),(0,o.iD)("li",d,[(0,o.Wm)(p,{to:"/auth"},{default:(0,o.w5)((()=>[u])),_:1})])),(0,o._)("li",null,[m.isLoggedIn?((0,o.wg)(),(0,o.j4)(f,{key:0,onClick:m.logout},{default:(0,o.w5)((()=>[h])),_:1},8,["onClick"])):(0,o.kq)("",!0)])])])])}var p={computed:{isLoggedIn(){return this.$store.getters.isAuthenticated}},methods:{logout(){this.$store.dispatch("logout"),this.$router.replace("/coaches")}}},f=a(89);const g=(0,f.Z)(p,[["render",m],["__scopeId","data-v-3bfe176c"]]);var v=g,w={components:{TheHeader:v},computed:{didLogout(){return this.$store.getters.didLogout}},created(){this.$store.dispatch("tryLogin")},watch:{didLogout(e,t){e&&e!=t&&this.$router.replace("/coaches")}}};const _=(0,f.Z)(w,[["render",r]]);var b=_,k=a(678),y=a(7139);const C={class:"controls"},I=(0,o.Uk)("Refresh"),q=(0,o.Uk)("Login"),D=(0,o.Uk)("Login to Register as Coach"),V={key:0},L={key:1},F={key:2};function S(e,t,a,s,r,n){const i=(0,o.up)("base-dialogue"),l=(0,o.up)("coach-filter"),c=(0,o.up)("base-button"),d=(0,o.up)("base-spinner"),u=(0,o.up)("coach-item"),h=(0,o.up)("base-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(i,{onClose:n.handleError,show:!!r.error,title:"An error occured"},{default:(0,o.w5)((()=>[(0,o._)("p",null,(0,y.zw)(r.error),1)])),_:1},8,["onClose","show"]),(0,o._)("section",null,[(0,o.Wm)(l,{onChangeFilter:n.setFilters},null,8,["onChangeFilter"])]),(0,o._)("section",null,[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o._)("div",C,[(0,o.Wm)(c,{onClick:t[0]||(t[0]=e=>n.loadCoaches(!0)),mode:"outline"},{default:(0,o.w5)((()=>[I])),_:1}),n.isLoggedIn?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(c,{key:0,link:"",to:"/auth?redirect=register"},{default:(0,o.w5)((()=>[q])),_:1})),!n.isLoggedIn||n.isCoach||r.isLoading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(c,{key:1,link:"",to:"/register"},{default:(0,o.w5)((()=>[D])),_:1}))]),r.isLoading?((0,o.wg)(),(0,o.iD)("div",V,[(0,o.Wm)(d)])):n.hasCoaches?((0,o.wg)(),(0,o.iD)("ul",L,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.filteredCoaches,(e=>((0,o.wg)(),(0,o.j4)(u,{key:e.id,id:e.id,"first-name":e.firstName,"last-name":e.lastName,rate:e.hourlyRate,areas:e.areas},null,8,["id","first-name","last-name","rate","areas"])))),128))])):((0,o.wg)(),(0,o.iD)("h3",F,"No coache Found"))])),_:1})])])}a(6699);const U={class:"actions"},A=(0,o.Uk)("Contact"),j=(0,o.Uk)("View Details");function R(e,t,a,s,r,n){const i=(0,o.up)("base-badge"),l=(0,o.up)("base-button");return(0,o.wg)(),(0,o.iD)("li",null,[(0,o._)("h3",null,(0,y.zw)(n.fullName),1),(0,o._)("h4",null,"$"+(0,y.zw)(a.rate)+"/hour",1),(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.areas,(e=>((0,o.wg)(),(0,o.j4)(i,{type:e,title:e,key:e},null,8,["type","title"])))),128))]),(0,o._)("div",U,[(0,o.Wm)(l,{mode:"outline",link:"",to:n.coachContactLink},{default:(0,o.w5)((()=>[A])),_:1},8,["to"]),(0,o.Wm)(l,{link:"",to:n.coachDetails},{default:(0,o.w5)((()=>[j])),_:1},8,["to"])])])}function W(e,t,a,s,r,n){return(0,o.wg)(),(0,o.iD)("span",{class:(0,y.C_)(["badge",a.type])},(0,y.zw)(n.text),3)}var $={props:["type","title"],computed:{text(){return this.title.toUpperCase()}}};const E=(0,f.Z)($,[["render",W],["__scopeId","data-v-5384d3a0"]]);var T=E,N={components:{BaseBadge:T},props:["id","firstName","lastName","rate","areas"],computed:{fullName(){return this.firstName+" "+this.lastName},coachContactLink(){return this.$route.path+"/"+this.id+"/contact"},coachDetails(){return"/coaches/"+this.id}}};const x=(0,f.Z)(N,[["render",R],["__scopeId","data-v-20d09bc1"]]);var O=x;const B=e=>((0,o.dD)("data-v-7c76d321"),e=e(),(0,o.Cn)(),e),P=B((()=>(0,o._)("h2",null,"Find Your Coach",-1))),M={class:"filter-option"},Z=B((()=>(0,o._)("label",{for:"frontend"},"Frontend",-1))),z=B((()=>(0,o._)("label",{for:"backed"},"Backend",-1))),H=B((()=>(0,o._)("label",{for:"career"},"Career",-1)));function Y(e,t,a,s,r,n){const i=(0,o.up)("base-card");return(0,o.wg)(),(0,o.j4)(i,null,{default:(0,o.w5)((()=>[P,(0,o._)("span",M,[(0,o._)("input",{onChange:t[0]||(t[0]=(...e)=>n.setFilter&&n.setFilter(...e)),type:"checkbox",id:"frontend",checked:""},null,32),Z,(0,o._)("input",{onChange:t[1]||(t[1]=(...e)=>n.setFilter&&n.setFilter(...e)),type:"checkbox",id:"backend",checked:""},null,32),z,(0,o._)("input",{onChange:t[2]||(t[2]=(...e)=>n.setFilter&&n.setFilter(...e)),type:"checkbox",id:"career",checked:""},null,32),H])])),_:1})}var G={emits:["change-filter"],data(){return{filters:{frontend:!0,backend:!0,career:!0}}},methods:{setFilter(e){const t=e.target.id,a=e.target.checked,o={...this.filters,[t]:a};this.filters=o,this.$emit("change-filter",o)}}};const K=(0,f.Z)(G,[["render",Y],["__scopeId","data-v-7c76d321"]]);var J=K,X={components:{CoachItem:O,CoachFilter:J},data(){return{isLoading:!1,error:null,activeFilters:{frontend:!0,backend:!0,career:!0}}},computed:{isLoggedIn(){return this.$store.getters.isAuthenticated},isCoach(){return this.$store.getters["coaches/isCoach"]},filteredCoaches(){const e=this.$store.getters["coaches/coaches"];return e.filter((e=>!(!this.activeFilters.frontend||!e.areas.includes("frontend"))||(!(!this.activeFilters.backend||!e.areas.includes("backend"))||!(!this.activeFilters.career||!e.areas.includes("career")))))},hasCoaches(){return!this.isLoading&&this.$store.getters["coaches/hasCoaches"]}},created(){this.loadCoaches()},methods:{setFilters(e){this.activeFilters=e},async loadCoaches(e=!1){this.isLoading=!0;try{await this.$store.dispatch("coaches/loadCoaches",{forceRefresh:e})}catch(t){this.error=t.message||"Something went wrong"}this.isLoading=!1},handleError(){this.error=null}}};const Q=(0,f.Z)(X,[["render",S],["__scopeId","data-v-3bae69e6"]]);var ee=Q;const te=(0,o._)("h2",null,"Register as a coach now!",-1);function ae(e,t,a,s,r,n){const i=(0,o.up)("coach-form"),l=(0,o.up)("base-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("section",null,[(0,o.Wm)(l,null,{default:(0,o.w5)((()=>[te,(0,o.Wm)(i,{onSaveData:n.saveData},null,8,["onSaveData"])])),_:1})])])}const oe=e=>((0,o.dD)("data-v-0f60e034"),e=e(),(0,o.Cn)(),e),se=oe((()=>(0,o._)("label",{for:"firstname"},"Firstname",-1))),re={key:0},ne=oe((()=>(0,o._)("label",{for:"lastname"},"Lastname",-1))),ie={key:0},le=oe((()=>(0,o._)("label",{for:"description"},"Description",-1))),ce={key:0},de=oe((()=>(0,o._)("label",{for:"rate"},"Hour Rate",-1))),ue={key:0},he=oe((()=>(0,o._)("h2",null,"Ares of Expertise",-1))),me=oe((()=>(0,o._)("label",{for:"frontend"}," Frontend Development",-1))),pe=oe((()=>(0,o._)("label",{for:"backend"}," Backend Development",-1))),fe=oe((()=>(0,o._)("label",{for:"career"}," Career Advisory",-1))),ge={key:0},ve={key:0},we=(0,o.Uk)("Register");function _e(e,t,a,r,n,i){const l=(0,o.up)("base-button");return(0,o.wg)(),(0,o.iD)("form",{onSubmit:t[12]||(t[12]=(0,s.iM)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,o._)("div",{class:(0,y.C_)(["form-control",{invalid:!n.firstname.isValid}])},[se,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.firstname.val=e),type:"text",id:"firstname",onBlur:t[1]||(t[1]=e=>i.clearValidity("firstname"))},null,544),[[s.nr,n.firstname.val,void 0,{trim:!0}]]),n.firstname.isValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",re,"Firstname must not be empty"))],2),(0,o._)("div",{class:(0,y.C_)(["form-control",{invalid:!n.lastname.isValid}])},[ne,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.lastname.val=e),type:"text",id:"lastname",onBlur:t[3]||(t[3]=e=>i.clearValidity("lastname"))},null,544),[[s.nr,n.lastname.val,void 0,{trim:!0}]]),n.lastname.isValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",ie,"Lastname must not be empty"))],2),(0,o._)("div",{class:(0,y.C_)(["form-control",{invalid:!n.description.isValid}])},[le,(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.description.val=e),rows:"5",id:"description",onBlur:t[5]||(t[5]=e=>i.clearValidity("description"))},null,544),[[s.nr,n.description.val,void 0,{trim:!0}]]),n.description.isValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",ce,"Description must not be empty"))],2),(0,o._)("div",{class:(0,y.C_)(["form-control",{invalid:!n.rate.isValid}])},[de,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>n.rate.val=e),type:"number",id:"rate",onBlur:t[7]||(t[7]=e=>i.clearValidity("rate"))},null,544),[[s.nr,n.rate.val,void 0,{number:!0}]]),n.rate.isValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",ue,"Rate must not be empty"))],2),(0,o._)("div",{class:(0,y.C_)(["form-control",{invalid:!n.areas.isValid}])},[he,(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>n.areas.val=e),type:"checkbox",id:"frontend",value:"frontend",onBlur:t[9]||(t[9]=e=>i.clearValidity("frontend"))},null,544),[[s.e8,n.areas.val]]),me]),(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>n.areas.val=e),type:"checkbox",id:"backend",value:"backend"},null,512),[[s.e8,n.areas.val]]),pe]),(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>n.areas.val=e),type:"checkbox",id:"career",value:"career"},null,512),[[s.e8,n.areas.val]]),fe]),n.areas.isValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",ge,"At least one expertise should be selected"))],2),n.formIsValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",ve,"please fix the above errors and submit again")),(0,o.Wm)(l,null,{default:(0,o.w5)((()=>[we])),_:1})],32)}var be={emits:["save-data"],data(){return{firstname:{val:"",isValid:!0},lastname:{val:"",isValid:!0},description:{val:"",isValid:!0},rate:{val:null,isValid:!0},areas:{val:[],isValid:!0},formIsValid:!0}},methods:{clearValidity(e){this[e].isValid=!0},validateForm(){this.formIsValid=!0,""==this.firstname.val&&(this.firstname.isValid=!1,this.formIsValid=!1),""==this.lastname.val&&(this.lastname.isValid=!1,this.formIsValid=!1),""==this.description.val&&(this.description.isValid=!1,this.formIsValid=!1),(!this.rate.val||this.rate.val<0)&&(this.rate.isValid=!1,this.formIsValid=!1),0===!this.areas.val.length&&(this.areas.isValid=!1,this.formIsValid=!1)},submitForm(){if(this.validateForm(),!this.formIsValid)return;const e={first:this.firstname.val,last:this.lastname.val,desc:this.description.val,rate:this.rate.val,areas:this.areas.val};this.$emit("save-data",e)}}};const ke=(0,f.Z)(be,[["render",_e],["__scopeId","data-v-0f60e034"]]);var ye=ke,Ce={components:{CoachForm:ye},methods:{saveData(e){console.log(e),this.$store.dispatch("coaches/registerCoach",e),this.$router.replace("/coaches")}}};const Ie=(0,f.Z)(Ce,[["render",ae]]);var qe=Ie;const De=e=>((0,o.dD)("data-v-80e261f4"),e=e(),(0,o.Cn)(),e),Ve={class:"form-control"},Le=De((()=>(0,o._)("label",{for:"email"},"Your Email",-1))),Fe={class:"form-control"},Se=De((()=>(0,o._)("label",{for:"message"},"Message",-1))),Ue={key:0,class:"errors"},Ae={class:"actions"},je=(0,o.Uk)("Send Message");function Re(e,t,a,r,n,i){const l=(0,o.up)("base-button");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,s.iM)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,o._)("div",Ve,[Le,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),type:"email",id:"email"},null,512),[[s.nr,n.email,void 0,{trim:!0}]])]),(0,o._)("div",Fe,[Se,(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.message=e),rows:"5",id:"message"},null,512),[[s.nr,n.message,void 0,{trim:!0}]])]),n.formIsValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",Ue,"Please enter a valid email and non empty message")),(0,o._)("div",Ae,[(0,o.Wm)(l,null,{default:(0,o.w5)((()=>[je])),_:1})])],32)])}var We={data(){return{email:"",message:"",formIsValid:!0}},methods:{submitForm(){this.formIsValid=!0,""!==this.email&&this.email.includes("@")&&""!=this.message?(this.$store.dispatch("request/contactCoach",{email:this.email,message:this.message,coachId:this.$route.params.id}),this.$router.replace("/coaches")):this.formIsValid=!1}}};const $e=(0,f.Z)(We,[["render",Re],["__scopeId","data-v-80e261f4"]]);var Ee=$e;const Te=e=>((0,o.dD)("data-v-f308dc94"),e=e(),(0,o.Cn)(),e),Ne=Te((()=>(0,o._)("header",null,[(0,o._)("h2",null,"Requests Recived")],-1))),xe={key:1},Oe={key:2};function Be(e,t,a,s,r,n){const i=(0,o.up)("base-dialogue"),l=(0,o.up)("base-spinner"),c=(0,o.up)("request-item"),d=(0,o.up)("base-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(i,{onClose:n.handleError,show:!!r.error,title:"An error occured"},{default:(0,o.w5)((()=>[(0,o._)("p",null,(0,y.zw)(r.error),1)])),_:1},8,["onClose","show"]),(0,o._)("section",null,[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[Ne,r.isLoading?((0,o.wg)(),(0,o.j4)(l,{key:0})):n.hasRequest&&!r.isLoading?((0,o.wg)(),(0,o.iD)("ul",xe,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.recivedRequest,(e=>((0,o.wg)(),(0,o.j4)(c,{key:e.id,email:e.userEmail,message:e.userMessage},null,8,["email","message"])))),128))])):((0,o.wg)(),(0,o.iD)("h3",Oe,"You haven't recievvd any request yet!"))])),_:1})])])}const Pe=["href"];function Me(e,t,a,s,r,n){return(0,o.wg)(),(0,o.iD)("li",null,[(0,o._)("div",null,[(0,o._)("a",{href:n.emailLink},(0,y.zw)(a.email),9,Pe)]),(0,o._)("p",null,(0,y.zw)(a.message),1)])}var Ze={props:["email","message"],computed:{emailLink(){return"mailto:"+this.email}}};const ze=(0,f.Z)(Ze,[["render",Me],["__scopeId","data-v-ec48e406"]]);var He=ze,Ye={components:{RequestItem:He},data(){return{isLoading:!1,error:null}},computed:{recivedRequest(){return console.log(this.$store.getters["request/requests"]),this.$store.getters["request/requests"]},hasRequest(){return this.$store.getters["request/hasRequests"]}},created(){this.loadRequest()},methods:{async loadRequest(){this.isLoading=!0;try{await this.$store.dispatch("request/fetchRequest")}catch(e){this.error=e.message||"Something failed!"}this.isLoading=!1},handleError(){this.error=null}}};const Ge=(0,f.Z)(Ye,[["render",Be],["__scopeId","data-v-f308dc94"]]);var Ke=Ge;const Je=(0,o._)("h2",null,"Page Not Found",-1),Xe=(0,o.Uk)("This page could not be found. maybe check out our "),Qe=(0,o.Uk)("Coaches");function et(e,t){const a=(0,o.up)("router-link"),s=(0,o.up)("base-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("section",null,[(0,o.Wm)(s,null,{default:(0,o.w5)((()=>[Je,(0,o._)("p",null,[Xe,(0,o.Wm)(a,{to:"/coaches"},{default:(0,o.w5)((()=>[Qe])),_:1})])])),_:1})])])}const tt={},at=(0,f.Z)(tt,[["render",et]]);var ot=at;const st=e=>((0,o.dD)("data-v-d22e9d30"),e=e(),(0,o.Cn)(),e),rt={class:"form-control"},nt=st((()=>(0,o._)("label",{for:"email"},"E-Mail",-1))),it={class:"form-control"},lt=st((()=>(0,o._)("label",{for:"password"},"Password",-1))),ct={key:0};function dt(e,t,a,r,n,i){const l=(0,o.up)("base-dialogue"),c=(0,o.up)("base-spinner"),d=(0,o.up)("base-button"),u=(0,o.up)("base-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(l,{onClose:i.handleError,show:!!n.error,title:"An error ocurred"},{default:(0,o.w5)((()=>[(0,o._)("p",null,(0,y.zw)(n.error),1)])),_:1},8,["onClose","show"]),(0,o.Wm)(l,{title:"Authenticating....",show:n.isLoading,fixed:""},{default:(0,o.w5)((()=>[(0,o.Wm)(c)])),_:1},8,["show"]),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,s.iM)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,o._)("div",rt,[nt,(0,o.wy)((0,o._)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e)},null,512),[[s.nr,n.email,void 0,{trim:!0}]])]),(0,o._)("div",it,[lt,(0,o.wy)((0,o._)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e)},null,512),[[s.nr,n.password,void 0,{trim:!0}]])]),n.formIsValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",ct,"Please enter a valid email and password (must be at least 6 characters long).")),(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,y.zw)(i.submitButtonCaption),1)])),_:1}),(0,o.Wm)(d,{type:"button",mode:"flat",onClick:i.switchAuthMode},{default:(0,o.w5)((()=>[(0,o.Uk)((0,y.zw)(i.switchModeButtonCaption),1)])),_:1},8,["onClick"])],32)])),_:1})])}var ut={data(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{async submitForm(){if(this.formIsValid=!0,""===this.email||!this.email.includes("@")||this.password.length<6)return void(this.formIsValid=!1);this.isLoading=!0;const e={email:this.email,password:this.password};try{"login"===this.mode?await this.$store.dispatch("login",e):await this.$store.dispatch("signup",e);const t="/"+this.$route.query.redirect||0;this.$router.replace(t)}catch(t){this.error=t.message||"Failed to authenticate"}this.isLoading=!1},switchAuthMode(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError(){this.error=null}}};const ht=(0,f.Z)(ut,[["render",dt],["__scopeId","data-v-d22e9d30"]]);var mt=ht,pt=a(65),ft={registerCoach(e,t){e.coaches.push(t)},setCoaches(e,t){e.coaches=t},setFetchTimestamp(e){e.lastFetch=(new Date).getTime()}},gt=(a(1703),{async registerCoach(e,t){const a=e.rootGetters.userId,o={firstName:t.first,lastName:t.last,description:t.desc,hourlyRate:t.rate,areas:t.areas},s=e.rootGetters.token,r=await fetch(`https://find-coach-43d96-default-rtdb.firebaseio.com/coaches/${a}.json?auth=`+s,{method:"PUT",body:JSON.stringify(o)});r.ok,e.commit("registerCoach",{...o,id:a})},async loadCoaches(e,t){if(!t.forceRefresh&&!e.getters.shouldUpdate)return;const a=await fetch("https://find-coach-43d96-default-rtdb.firebaseio.com/coaches.json"),o=await a.json();if(!a.ok){const e=new Error(o.message||"Failed to fetch");throw e}const s=[];for(const r in o){const e={id:r,firstName:o[r].firstName,lastName:o[r].lastName,description:o[r].description,hourlyRate:o[r].hourlyRate,areas:o[r].areas};s.push(e)}e.commit("setCoaches",s),e.commit("setFetchTimestamp")}}),vt={coaches(e){return e.coaches},hasCoaches(e){return e.coaches&&e.coaches.length>0},isCoach(e,t,a,o){const s=t.coaches,r=o.userId;return s.some((e=>e.id===r))},shouldUpdate(e){const t=e.lastFetch;if(!t)return!0;const a=(new Date).getTime();return(a-t)/1e3>60}},wt={namespaced:!0,state(){return{lastFetch:null,coaches:[]}},mutations:ft,actions:gt,getters:vt},_t={addRequest(e,t){e.requests.push(t)},setRequests(e,t){e.requests=t}},bt={async contactCoach(e,t){const a={userEmail:t.email,userMessage:t.message},o=await fetch(`https://find-coach-43d96-default-rtdb.firebaseio.com/requests/${t.coachId}.json`,{method:"POST",body:JSON.stringify(a)}),s=await o.json();if(!o.ok){const e=new Error(s.message||"Failed to send");throw e}a.id=s.name,a.coachId=t.coachId,e.commit("addRequest",a)},async fetchRequest(e){const t=e.rootGetters.userId,a=e.rootGetters.token,o=await fetch(`https://find-coach-43d96-default-rtdb.firebaseio.com/requests/${t}.json?auth=`+a),s=await o.json();if(!o.ok){const e=new Error(s.message||"Failed to fetch request");throw e}const r=[];for(const n in s){const e={id:n,coachId:t,userEmail:s[n].userEmail,message:s[n].message};r.push(e)}e.commit("setRequests",r)}},kt={requests(e,t,a,o){const s=o.userId;return console.log(e.requests),e.requests.filter((e=>e.coachId===s))},hasRequests(e,t){return t.requests&&t.requests.length>0}},yt={namespaced:!0,state(){return{requests:[]}},mutations:_t,actions:bt,getters:kt},Ct={setUser(e,t){e.token=t.token,e.userId=t.userId,e.didLogout=!1},didLogout(e){e.didLogout=!0}};let It;var qt={async login(e,t){return e.dispatch("auth",{...t,mode:"login"})},async signup(e,t){return e.dispatch("auth",{...t,mode:"signup"})},async auth(e,t){const a=t.mode;let o="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBORPDVabbpAz2BSMpsr6AzX5PjZy5dpW4";"signup"===a&&(o="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBORPDVabbpAz2BSMpsr6AzX5PjZy5dpW4");const s=await fetch(o,{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})}),r=await s.json();if(!s.ok){console.log(r);const e=new Error(r.message||"Failed to authenticate.");throw e}const n=1e3*+r.expiresIn,i=(new Date).getTime()+n;localStorage.setItem("token",r.idToken),localStorage.setItem("userId",r.localId),localStorage.setItem("tokenExpiration",i),It=setTimeout((function(){e.dispatch("didLogout")}),n),console.log(r),e.commit("setUser",{token:r.idToken,userId:r.localId})},tryLogin(e){const t=localStorage.getItem("token"),a=localStorage.getItem("userId"),o=localStorage.get("tokenExpiration"),s=+o-(new Date).getTime();s<0||(It=setTimeout((function(){e.dispatch("didLogout")}),s),t&&a&&e.commit("setUser",{token:t,userId:a}))},logout(e){localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("tokenExpiration"),clearTimeout(It),e.commit("setUser",{token:null,userId:null})},autoLogout(e){e.dispatch("logout"),e.commit("didLogout")}},Dt={userId(e){return e.userId},token(e){return e.token},isAuthenticated(e){return!!e.token},didAutoLogout(e){return e.didLogout}},Vt={state(){return{userId:null,token:null,didLogout:!1}},mutations:Ct,actions:qt,getters:Dt};const Lt=(0,pt.MT)({modules:{coaches:wt,request:yt,auth:Vt}});var Ft=Lt;const St=(0,o.RC)((()=>a.e(145).then(a.bind(a,6145)))),Ut=(0,k.p7)({history:(0,k.PO)(),routes:[{path:"/",redirect:"/coaches"},{path:"/coaches",component:ee},{path:"/coaches/:id",component:St,props:!0,children:[{path:"contact",component:Ee}]},{path:"/register",component:qe,meta:{requiresAuth:!0}},{path:"/requests",component:Ke,meta:{requiresAuth:!0}},{path:"/auth",component:mt,meta:{requiresUnAuth:!0}},{path:"/:notFound(.*)",component:ot}]});Ut.beforeEach((function(e,t,a){e.meta.requiresAuth&&!Ft.getters.isAuthenticated?a("/auth"):e.meta.requiresUnAuth&&Ft.getters.isAuthenticated?a("/coaches"):a()}));var At=Ut;const jt={class:"card"};function Rt(e,t){return(0,o.wg)(),(0,o.iD)("div",jt,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])}const Wt={},$t=(0,f.Z)(Wt,[["render",Rt],["__scopeId","data-v-18915a19"]]);var Et=$t;function Tt(e,t,a,s,r,n){const i=(0,o.up)("router-link");return a.link?((0,o.wg)(),(0,o.j4)(i,{key:1,to:a.to,class:(0,y.C_)(a.mode)},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default",{},void 0,!0)])),_:3},8,["to","class"])):((0,o.wg)(),(0,o.iD)("button",{key:0,class:(0,y.C_)(a.mode)},[(0,o.WI)(e.$slots,"default",{},void 0,!0)],2))}var Nt={props:{mode:{type:String,required:!1,default:null},link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"}}};const xt=(0,f.Z)(Nt,[["render",Tt],["__scopeId","data-v-2d510b6d"]]);var Ot=xt;const Bt=e=>((0,o.dD)("data-v-5147169a"),e=e(),(0,o.Cn)(),e),Pt={class:"spinner"},Mt=Bt((()=>(0,o._)("div",{class:"lds-roller"},[(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div")],-1))),Zt=[Mt];function zt(e,t){return(0,o.wg)(),(0,o.iD)("div",Pt,Zt)}const Ht={},Yt=(0,f.Z)(Ht,[["render",zt],["__scopeId","data-v-5147169a"]]);var Gt=Yt;const Kt=(0,o.RC)((()=>a.e(848).then(a.bind(a,9848)))),Jt=(0,s.ri)(b);Jt.use(At),Jt.use(Ft),Jt.component("base-card",Et),Jt.component("base-button",Ot),Jt.component("base-badge",T),Jt.component("base-spinner",Gt),Jt.component("base-dialogue",Kt),Jt.mount("#app")}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,o,s,r){if(!o){var n=1/0;for(d=0;d<e.length;d++){o=e[d][0],s=e[d][1],r=e[d][2];for(var i=!0,l=0;l<o.length;l++)(!1&r||n>=r)&&Object.keys(a.O).every((function(e){return a.O[e](o[l])}))?o.splice(l--,1):(i=!1,r<n&&(n=r));if(i){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,s,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,o){return a.f[o](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{145:"0ce1b5c7",848:"ee5d039f"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+".5cfe8adf.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="find_coach_project:";a.l=function(o,s,r,n){if(e[o])e[o].push(s);else{var i,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+r){i=u;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+r),i.src=o),e[o]=[s];var h=function(t,a){i.onerror=i.onload=null,clearTimeout(m);var s=e[o];if(delete e[o],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach((function(e){return e(a)})),t)return t(a)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e=function(e,t,a,o){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css";var r=function(r){if(s.onerror=s.onload=null,"load"===r.type)a();else{var n=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=n,l.request=i,s.parentNode.removeChild(s),o(l)}};return s.onerror=s.onload=r,s.href=t,document.head.appendChild(s),s},t=function(e,t){for(var a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var s=a[o],r=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(r===e||r===t))return s}var n=document.getElementsByTagName("style");for(o=0;o<n.length;o++){s=n[o],r=s.getAttribute("data-href");if(r===e||r===t)return s}},o=function(o){return new Promise((function(s,r){var n=a.miniCssF(o),i=a.p+n;if(t(n,i))return s();e(o,i,s,r)}))},s={143:0};a.f.miniCss=function(e,t){var a={848:1};s[e]?t.push(s[e]):0!==s[e]&&a[e]&&t.push(s[e]=o(e).then((function(){s[e]=0}),(function(t){throw delete s[e],t})))}}(),function(){var e={143:0};a.f.j=function(t,o){var s=a.o(e,t)?e[t]:void 0;if(0!==s)if(s)o.push(s[2]);else{var r=new Promise((function(a,o){s=e[t]=[a,o]}));o.push(s[2]=r);var n=a.p+a.u(t),i=new Error,l=function(o){if(a.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var r=o&&("load"===o.type?"missing":o.type),n=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",i.name="ChunkLoadError",i.type=r,i.request=n,s[1](i)}};a.l(n,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,r,n=o[0],i=o[1],l=o[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(l)var d=l(a)}for(t&&t(o);c<n.length;c++)r=n[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},o=self["webpackChunkfind_coach_project"]=self["webpackChunkfind_coach_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(1484)}));o=a.O(o)})();
//# sourceMappingURL=app.f60f633b.js.map